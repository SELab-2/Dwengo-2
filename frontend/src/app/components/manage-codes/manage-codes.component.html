<div class="manage-codes">
    <h2 i18n>Class codes</h2>
    <div class="codes">
        @for(code of codes; track code.code) {
            <div class="code-item">
                <p id="class-code">{{ code.code }}</p>
                <p id="is-expired">{{ activeOrExpired(code) }}</p>
                <button 
                    mat-icon-button [matMenuTriggerFor]="menu"
                    id="class-code-menu-button">
                    <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                    @if(!code.expired) {
                        <button 
                            mat-menu-item 
                            (click)="showClassCode(code)"
                            id="class-code-show-button">
                            Show
                        </button>
                        <button 
                            mat-menu-item 
                            (click)="expireClassCode(code)"
                            id="class-code-expire-button">
                            Expire
                        </button>    
                    }
                    <button 
                        mat-menu-item 
                        (click)="deleteClassCode(code)"
                        id="class-code-delete-button">
                        Delete
                    </button>
                </mat-menu>
            </div>
        }
    </div>

    <button 
        mat-raised-button 
        (click)="createClassCode()"
        id="class-code-create-button">
        <p>New code</p>
    </button>

</div>
