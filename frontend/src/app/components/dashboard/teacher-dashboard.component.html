<!-- Main -->
<main class="main-container">
    <div class="main-title">
        <p class="font-weight-bold">DASHBOARD</p>
        <div class="button-widget">
            <a [routerLink]="learningPathsLink" class="paths-link clickable">
                Explore New Learning Paths
            </a>
            <a [routerLink]="createClassLink" class="paths-link clickable">
                Create a class
            </a>
        </div>
    </div>

    <div class="main-cards">
        <div class="card" (click)="setView('classes')" [ngClass]="{ 'selected-card': selectedView === 'classes' }">
            <div class="card-inner">
                <p class="text-primary">View Classes</p>
                <mat-icon fontIcon="school"></mat-icon>
            </div>
            <span class="text-primary font-weight-bold">{{ classes.length }}</span>
        </div>

        <div class="card" (click)="setView('deadlines')" [ngClass]="{ 'selected-card': selectedView === 'deadlines' }">
            <div class="card-inner">
                <p class="text-primary">Current Deadlines</p>
                <mat-icon fontIcon="timer"></mat-icon>
            </div>
            <span class="text-primary font-weight-bold">{{ deadlines.length }}</span>
        </div>

        <div class="card" (click)="setView('questions')" [ngClass]="{ 'selected-card': selectedView === 'questions' }">
            <div class="card-inner">
                <p class="text-primary">Answer Questions</p>
                <mat-icon fontIcon="contact_support"></mat-icon>
            </div>
            <span class="text-primary font-weight-bold">{{ questions.length }}</span>
        </div>
    </div>

    <div class="dynamic-section overview" *ngIf="selectedView === 'classes'">
        <h3>Classes</h3>
        <ul>
            <li *ngFor="let cls of classes">{{ cls }}</li>
        </ul>
    </div>

    <div class="dynamic-section overview" *ngIf="selectedView === 'deadlines'">
        <h3>Upcoming Deadlines</h3>
        <ul>
            <li *ngFor="let deadline of deadlines">{{ deadline }}</li>
        </ul>
    </div>

    <div class="dynamic-section overview" *ngIf="selectedView === 'questions'">
        <h3>Student Questions</h3>
        <ul>
            <li *ngFor="let q of questions">
                <strong>{{ q.assignment }}</strong>: {{ q.question }}
            </li>
        </ul>
    </div>

    <div class="charts">
        <div class="charts-card">
            <p class="chart-title">Progress</p>
            <apx-chart [series]="barChartOptions.series!" [chart]="barChartOptions.chart!"
                [dataLabels]="barChartOptions.dataLabels!" [xaxis]="barChartOptions.xaxis!"
                [legend]="barChartOptions.legend!" [fill]="barChartOptions.fill!" [tooltip]="barChartOptions.tooltip!">
            </apx-chart>
        </div>

        <div class="charts-card">
            <p class="chart-title">Timeline</p>
            <apx-chart [series]="lineChartOptions.series!" [chart]="lineChartOptions.chart!"
                [xaxis]="lineChartOptions.xaxis!" [dataLabels]="lineChartOptions.dataLabels!"
                [grid]="lineChartOptions.grid!" [stroke]="lineChartOptions.stroke!"
                [tooltip]="lineChartOptions.tooltip!"></apx-chart>
        </div>
    </div>
</main>